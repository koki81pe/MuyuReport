<!--
***
MuyuReport - modals.html - V1.01
22/12/2025 - 11:46
***
-->

<!--
***
01. Estructura del Modal - modals.html - V1.01-SV01
***
-->
<div id="modal-overlay" class="modal-overlay">
  <div class="modal-container">
    <div class="modal-content">
      <div class="modal-icon" id="modal-icon">
        <!-- Icono se inserta dinámicamente -->
      </div>
      <div class="modal-message" id="modal-message">
        <!-- Mensaje se inserta dinámicamente -->
      </div>
      <div class="modal-actions">
        <button class="modal-btn" id="modal-btn-confirm">Entendido</button>
      </div>
    </div>
  </div>
</div>

<!--
***
02. Loader (Indicador de Carga) - modals.html - V1.01-SV02
***
-->
<div id="loader-overlay" class="loader-overlay">
  <div class="loader-container">
    <div class="spinner"></div>
    <p class="loader-text">Cargando datos...</p>
  </div>
</div>

<style>
/*
***
03. Estilos del Modal Overlay - modals.html - V1.01-SV03
***
*/
.modal-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 9999;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(2px);
}

.modal-overlay.active {
  display: flex;
}

/*
***
04. Estilos del Contenedor del Modal - modals.html - V1.01-SV04
***
*/
.modal-container {
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  max-width: 400px;
  width: 90%;
  margin: 16px;
  animation: modalSlideIn 0.3s ease-out;
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/*
***
05. Estilos del Contenido del Modal - modals.html - V1.01-SV05
***
*/
.modal-content {
  padding: 24px;
  text-align: center;
}

.modal-icon {
  font-size: 48px;
  margin-bottom: 16px;
  line-height: 1;
}

.modal-icon.success {
  color: #059669;
}

.modal-icon.error {
  color: #dc2626;
}

.modal-icon.warning {
  color: #f59e0b;
}

.modal-icon.info {
  color: #2563eb;
}

.modal-message {
  font-size: 15px;
  color: #1f2937;
  margin-bottom: 20px;
  line-height: 1.5;
}

.modal-message strong {
  display: block;
  font-size: 17px;
  margin-bottom: 8px;
  color: #111827;
}

/*
***
06. Estilos de Botones del Modal - modals.html - V1.01-SV06
***
*/
.modal-actions {
  display: flex;
  gap: 8px;
  justify-content: center;
}

.modal-btn {
  padding: 10px 24px;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  min-width: 100px;
}

.modal-btn-primary {
  background-color: #2563eb;
  color: white;
}

.modal-btn-primary:hover {
  background-color: #1e40af;
}

.modal-btn-secondary {
  background-color: #e5e7eb;
  color: #374151;
}

.modal-btn-secondary:hover {
  background-color: #d1d5db;
}

.modal-btn:active {
  transform: scale(0.98);
}

/*
***
07. Estilos del Loader - modals.html - V1.01-SV07
***
*/
.loader-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(255, 255, 255, 0.9);
  z-index: 9998;
  align-items: center;
  justify-content: center;
}

.loader-overlay.active {
  display: flex;
}

.loader-container {
  text-align: center;
}

/*
***
08. Spinner Animado - modals.html - V1.01-SV08
***
*/
.spinner {
  width: 48px;
  height: 48px;
  border: 4px solid #e5e7eb;
  border-top-color: #2563eb;
  border-radius: 50%;
  margin: 0 auto 16px;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loader-text {
  color: #6b7280;
  font-size: 14px;
  font-weight: 500;
}

/*
***
09. Responsive para Desktop - modals.html - V1.01-SV09
***
*/
@media (min-width: 1024px) {
  .modal-container {
    max-width: 450px;
  }

  .modal-content {
    padding: 32px;
  }

  .modal-icon {
    font-size: 56px;
  }

  .modal-message {
    font-size: 16px;
  }

  .modal-message strong {
    font-size: 18px;
  }
}
</style>

<script>
/*
***
10. Funciones del Sistema de Modals - modals.html - V1.01-SV10
***
*/

// Objeto global para manejar modals
window.ModalSystem = {
  
  // Mostrar modal con mensaje
  show: function(message, type = 'info', title = '') {
    const overlay = document.getElementById('modal-overlay');
    const icon = document.getElementById('modal-icon');
    const messageEl = document.getElementById('modal-message');
    
    // Definir iconos según tipo
    const icons = {
      success: '✓',
      error: '✕',
      warning: '⚠',
      info: 'ℹ'
    };
    
    // Actualizar contenido
    icon.textContent = icons[type] || icons.info;
    icon.className = 'modal-icon ' + type;
    
    if (title) {
      messageEl.innerHTML = '<strong>' + title + '</strong>' + message;
    } else {
      messageEl.innerHTML = message;
    }
    
    // Mostrar modal
    overlay.classList.add('active');
  },
  
  // Cerrar modal
  close: function() {
    const overlay = document.getElementById('modal-overlay');
    overlay.classList.remove('active');
  },
  
  // Mostrar éxito
  success: function(message, title = 'Éxito') {
    this.show(message, 'success', title);
  },
  
  // Mostrar error
  error: function(message, title = 'Error') {
    this.show(message, 'error', title);
  },
  
  // Mostrar advertencia
  warning: function(message, title = 'Atención') {
    this.show(message, 'warning', title);
  },
  
  // Mostrar información
  info: function(message, title = '') {
    this.show(message, 'info', title);
  }
};

// Objeto global para manejar loader
window.LoaderSystem = {
  
  show: function(message = 'Cargando datos...') {
    const overlay = document.getElementById('loader-overlay');
    const text = overlay.querySelector('.loader-text');
    text.textContent = message;
    overlay.classList.add('active');
  },
  
  hide: function() {
    const overlay = document.getElementById('loader-overlay');
    overlay.classList.remove('active');
  }
};

/*
***
11. Event Listeners - modals.html - V1.01-SV11
***
*/
document.addEventListener('DOMContentLoaded', function() {
  
  // Cerrar modal al hacer clic en el botón
  const btnConfirm = document.getElementById('modal-btn-confirm');
  if (btnConfirm) {
    btnConfirm.addEventListener('click', function() {
      ModalSystem.close();
    });
  }
  
  // Cerrar modal al hacer clic fuera del contenido
  const overlay = document.getElementById('modal-overlay');
  if (overlay) {
    overlay.addEventListener('click', function(e) {
      if (e.target === overlay) {
        ModalSystem.close();
      }
    });
  }
  
  // Cerrar modal con tecla Escape
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      ModalSystem.close();
    }
  });
  
});
</script>
